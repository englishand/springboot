#####一.组成结构：
    1.主存：主存就是内存，是直接与CPU交换信息的存储器，指CPU能够通过指令中的地址代码直接访问的存储器，常用于存放处于活动状态的程序和数据。
      主存有分为随机存储器（random access memory）和只读存储器（read only memory）
      （1）ram:在执行期间，程序的数据放在主存中，各个存储单元的内容可通过指令随机访问，这样的存储器为随机存取存储器。
      （2）rom:里面存放一次性写入的程序或数据，仅能随机读出。
       ram和rom共同分享主存储器的地址空间。
    2，辅存：即外存，如硬盘（即为外接的硬盘，机械硬盘、固态硬盘）、光盘、软盘、U盘等。
    3.缓存：缓冲寄存器
      在CPU同时处理很多数据，而又不能同时进行所有数据的传输的情况，把优先级低的数据暂时放入缓存中，等优先级高的数据处理完毕后再把他们从缓存中取出处理
    4.虚拟内存
      当运行数据超过内存限制，部分数据自动‘溢出’，这时系统会将硬盘上的部分空间模拟成内存---虚拟内存，并将暂时不运行的程序或数据放到虚拟内存中等待调用
    速度比较：CPU>缓存>内存>辅存
#####二.CPU缓存行
    1.背景：执行程序是靠CPU执行主存中代码，但是CPU和主存的速度差异大，为了降低差距，在架构中使用了CPU缓存（一级、二级、三级缓存）。
    2.从CPU到各结构大约需要的周期及时间：
        主存：约60-80ns纳秒
        QPI总线传输：约20ns
        L3 cache:约40-45 cycles，约15ns
        L2 cache:约10 cycles，约3ns
        L1 cache:约3-4 cycles，约1ns
        寄存器：1 cycle
    3.每个缓存里面都是由缓存行组成的，缓存系统中是以缓存行（cache line）为单位存储的。缓存行是2的整数幂个连续字节，一般为32-256个字节。常见的缓存行
      大小是64个字节。
      当多线程修改互相独立的变量时，如果这些变量共享同一个缓存行，就会无意中影响彼此的性能，这就是共享。
#####三.缓存线的工作
    如果缓存中没有包含正在加载的字节或单词的缓存行，CPU则请求从缓存线边界开始的64个字节。因此，一个命令从内存中触发对整个缓存行的读写。
#####四.JVM运行时内存分配过程
    有一个内存区域是jvm虚拟机栈，每一个线程运行时都有一个线程栈，线程栈保存了线程运行时变量值信息。当线程访问某一个对象变量值的时候，首先通过对象的引
    用找到对应在堆内存的变量的值，然后把堆内存变量的具体值load到线程本地内存中，建立一个变量副本，之后线程就不再和对象在堆内存变量值有任何关系，而是
    直接修改副本变量的值，在修改完之后的某一个时刻（线程退出之前），自动把线程变量副本的值回写到对象在堆中变量。